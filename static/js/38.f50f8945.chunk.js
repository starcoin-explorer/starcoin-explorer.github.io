(this["webpackJsonpstarcoin-explorer"]=this["webpackJsonpstarcoin-explorer"]||[]).push([[38],{751:function(e,a,t){"use strict";var s=t(22),c=t(0),r=t(90),n=t.n(r);a.a=()=>{const e=Object(s.h)(),a=Object(s.g)(),[t,r]=Object(c.useState)(!1);Object(c.useEffect)((()=>{n.a.get("wallet_status")||-1===a.pathname.indexOf("/user")||e("/error")}),[])}},889:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t.n(s),r=t(611),n=t(353),l=t(618),o=t(743),i=t(700),d=t(842),j=t(843),b=t(844),p=t(845),m=t(846),x=t(847),h=t(878),O=t(874),u=t(898),g=t(864),k=t(899),f=t(699),y=t(350),v=t(900),A=t(782),I=t.n(A),C=t(621),P=t(225),_=t(777),w=t.n(_),N=t(778),E=t.n(N),S=t(779),D=t.n(S),Y=t(780),K=t.n(Y),T=t(781),L=t.n(T);w.a.extend(D.a),w.a.extend(E.a),w.a.extend(K.a),w.a.extend(L.a);var M=t(751),W=t(66),B=t(91),H=t(77),z=t(78),J=t(1);const{selector:F}=B.a,R=Object(P.a)(F,(e=>({...e})));a.default=Object(l.a)((e=>Object(r.a)({title:{color:"dark"===e.palette.mode?"#fff":"#000",fontWeight:"bold"},addBtn:{color:"dark"===e.palette.mode?"#fff":"#000",background:"dark"===e.palette.mode?"rgb(33, 36, 41)":"#fff",marginLeft:"10px","&:hover":{background:"dark"===e.palette.mode?"rgb(33, 36, 41)":"#fff"}},from:{width:"800px",margin:"100px auto",padding:"50px",background:"dark"===e.palette.mode?"#424242":"rgb(237, 238, 242)"},labelName:{width:"33%",textAlign:"right"},formLabel:{width:"100%",display:"flex",margin:"20px 0"},labelItem:{width:"66%"}})))((function(e){const a=Object(W.e)(R),{t:t}=Object(C.a)(),{classes:r}=e,[l,A]=Object(s.useState)([]),[P,_]=Object(s.useState)(""),[N,E]=Object(s.useState)({});Object(M.a)();const[S,D]=Object(s.useState)({open:!1,severity:"success",message:""}),Y=Object(n.a)(),K={padding:Y.spacing(1),color:Y.palette.getContrastText(Y.palette.background.paper),borderBottom:"dark"===Y.palette.mode?"1px solid rgba(256, 256, 256, 0.075)":"1px solid rgba(0, 0, 0, 0.075)"},T=()=>{Object(H.b)({address:a.accounts[0]}).then((e=>{"200"===e.status&&A(e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{a.accounts[0]&&T()}),[a.accounts]);const[L,B]=c.a.useState(!1),F=()=>{B(!1)},[$,q]=c.a.useState(!1);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(o.a,{className:r.from,children:[Object(J.jsxs)("div",{className:r.title,children:[Object(J.jsx)("span",{children:t("APIkeys.My API Keys")}),Object(J.jsxs)(i.a,{className:r.addBtn,onClick:()=>{_(""),B(!0)},children:[Object(J.jsx)(I.a,{}),t("APIkeys.Add")]})]}),Object(J.jsx)(d.a,{children:Object(J.jsxs)(j.a,{sx:{minWidth:400},"aria-label":"simple table",children:[Object(J.jsx)(b.a,{children:Object(J.jsxs)(p.a,{children:[Object(J.jsx)(m.a,{sx:K,align:"center",children:t("APIkeys.Action")}),Object(J.jsx)(m.a,{sx:K,align:"left",children:t("APIkeys.API-Key Token")}),Object(J.jsx)(m.a,{sx:K,align:"left",children:t("APIkeys.Created")})]})}),Object(J.jsx)(x.a,{children:l.map((e=>{return Object(J.jsxs)(p.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(J.jsx)(m.a,{sx:K,align:"center",component:"th",scope:"row",children:Object(J.jsx)(i.a,{onClick:()=>{(e=>{E(e),q(!0)})(e)},children:t("APIkeys.Edit")})}),Object(J.jsx)(m.a,{sx:K,align:"left",children:e.api_key}),Object(J.jsxs)(m.a,{sx:K,align:"left",children:[" ",(a=e.create_time,s="YYYY-MM-DD HH:mm:ss",w()(a).tz(w.a.tz.guess()).format(s))]})]},e.api_key);var a,s}))})]})}),Object(J.jsx)(h.a,{open:S.open,autoHideDuration:6e3,onClose:()=>{D({...S,open:!1})},children:Object(J.jsx)(O.a,{variant:"filled",severity:S.severity,sx:{width:"100%"},children:S.message})}),Object(J.jsxs)(u.a,{open:L,sx:{"& .MuiDialog-paper":{backgroundColor:Y.palette.background.default,color:Y.palette.getContrastText(Y.palette.background.paper)}},fullWidth:!0,onClose:F,children:[Object(J.jsx)(g.a,{children:t("APIkeys.Create a new API-KEY token")}),Object(J.jsx)(k.a,{children:Object(J.jsxs)(f.a,{className:r.formLabel,error:!1,children:[Object(J.jsxs)("div",{className:r.labelName,children:[t("APIkeys.AppName"),"\uff1a"]}),Object(J.jsx)("div",{className:r.labelItem,children:Object(J.jsx)(y.a,{onChange:e=>{_(e.target.value)}})})]})}),Object(J.jsxs)(v.a,{children:[Object(J.jsx)(i.a,{onClick:F,children:t("APIkeys.Cancel")}),Object(J.jsx)(i.a,{onClick:async()=>{try{"200"===(await Object(H.a)({address:a.accounts[0],app_name:P})).status?D({...S,open:!0,severity:"success",message:t("common.success")}):D({...S,open:!0,severity:"error",message:t("common.fail")})}catch(e){D({...S,open:!0,severity:"error",message:null===e||void 0===e?void 0:e.message})}T(),B(!1)},children:t("APIkeys.Create")})]})]}),Object(J.jsxs)(u.a,{sx:{"& .MuiDialog-paper":{backgroundColor:Y.palette.background.default,color:Y.palette.getContrastText(Y.palette.background.paper)}},fullWidth:!0,open:$,onClose:()=>{q(!1)},children:[Object(J.jsx)(g.a,{children:t("APIkeys.Edit a new API-KEY token")}),Object(J.jsxs)(k.a,{children:[Object(J.jsxs)(f.a,{className:r.formLabel,error:!1,children:[Object(J.jsxs)("div",{className:r.labelName,children:[t("APIkeys.ApiKey"),"\uff1a"]}),Object(J.jsx)("div",{className:r.labelItem,children:N.api_key})]}),Object(J.jsxs)(f.a,{className:r.formLabel,error:!1,children:[Object(J.jsxs)("div",{className:r.labelName,children:[t("APIkeys.AppName"),"\uff1a"]}),Object(J.jsx)("div",{className:r.labelItem,children:Object(J.jsx)(y.a,{value:N.app_name,onChange:e=>{E({...N,app_name:e.target.value})}})})]})]}),Object(J.jsxs)(v.a,{children:[Object(J.jsx)(i.a,{color:"error",onClick:async()=>{try{const e=await Object(H.d)({address:a.userInfo.wallet_addr,opt:4}),s=await Object(z.e)(a.userInfo.wallet_addr,`STCSCAN_DESTROY_APIKEY_CODE:${e.data}`,1),c=await Object(H.h)({app_key:N.api_key,address:a.userInfo.wallet_addr,sign:s});"200"===c.status?D({...S,open:!0,severity:"success",message:t("common.success")}):D({...S,open:!0,severity:"error",message:c.message})}catch(e){D({...S,open:!0,severity:"error",message:null===e||void 0===e?void 0:e.message})}T(),q(!1)},children:t("APIkeys.Delete")}),Object(J.jsx)(i.a,{onClick:async()=>{try{"200"===(await Object(H.i)({app_name:N.app_name,app_key:N.api_key})).status?D({...S,open:!0,severity:"success",message:t("common.success")}):D({...S,open:!0,severity:"error",message:t("common.fail")})}catch(e){D({...S,open:!0,severity:"error",message:null===e||void 0===e?void 0:e.message})}T(),q(!1)},children:t("APIkeys.Edit")})]})]})]})})}))}}]);
//# sourceMappingURL=38.f50f8945.chunk.js.map