(this["webpackJsonpstarcoin-explorer"]=this["webpackJsonpstarcoin-explorer"]||[]).push([[39],{808:function(e,a,s){"use strict";var t=s(22),r=s(0),l=s(94),c=s.n(l);a.a=()=>{const e=Object(t.h)(),a=Object(t.g)(),[s,l]=Object(r.useState)(!1);Object(r.useEffect)((()=>{c.a.get("wallet_status")||-1===a.pathname.indexOf("/user")||e("/error")}),[])}},951:function(e,a,s){"use strict";s.r(a);var t=s(0),r=s(664),l=s(736),c=s(672),o=s(800),n=s(754),i=s(365),d=s(755),b=s(739),j=s(966),m=s(932),u=s(967),O=s(6),f=s(2),h=s(735),x=s(7),p=s(17),g=s(758),N=s(366),v=s(667);function w(e){return Object(N.a)("MuiDialogContentText",e)}Object(v.a)("MuiDialogContentText",["root"]);var I=s(1);const C=["children"],y=Object(x.a)(g.a,{shouldForwardProp:e=>Object(x.b)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({});var k=t.forwardRef((function(e,a){const s=Object(p.a)({props:e,name:"MuiDialogContentText"}),t=Object(O.a)(s,C),r=(e=>{const{classes:a}=e,s=Object(h.a)({root:["root"]},w,a);return Object(f.a)({},a,s)})(t);return Object(I.jsx)(y,Object(f.a)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:t},s,{classes:r}))})),_=s(968),D=s(946),E=s(942),R=s(675),T=s(234),S=s(70),L=s(86),P=s(95),A=s(808),V=s(82),F=s(83);const{selector:M,types:U}=P.a,B=Object(T.a)(M,(e=>({...e})));a.default=Object(c.a)((e=>Object(r.a)({from:{width:"800px",margin:"100px auto",padding:"50px",background:"dark"===e.palette.mode?"#424242":"rgb(237, 238, 242)"},labelName:{width:"33%",textAlign:"right"},formLabel:{margin:"20px",width:"100%",display:"flex"},labelItem:{width:"66%"},uploadBtn:{width:"100px",height:"100px",border:"1px solid #fff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},okBtn:{color:"#fff!important",marginRight:"20px"},footer:{textAlign:"center"}})))((function(e){const a=Object(l.a)(),s=Object(S.e)(B),r=Object(t.useRef)(),[c,O]=Object(t.useState)(!0),f=Object(S.d)(),{t:h}=Object(R.a)(),[x,p]=Object(t.useState)(!0),[g,N]=Object(t.useState)(!1),[v,w]=Object(t.useState)({open:!1,severity:"success",message:""}),C=Object(t.useRef)({}),y=Object(t.useRef)(""),{classes:T}=e;Object(A.a)();const P=(e,a)=>{if("userName"===e)return void(y.current=a.target.value);O(!1);const s={};s[e]=a.target.value,C.current={...C.current,...s}},M=()=>{N(!1)};return Object(I.jsxs)(I.Fragment,{children:[s.userInfo.wallet_addr?Object(I.jsxs)(o.a,{className:T.from,children:[Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.Username"),"\uff1a"]}),Object(I.jsxs)("div",{className:T.labelItem,children:[Object(I.jsx)(i.a,{sx:{".Mui-disabled":{textFillColor:"dark"===a.palette.mode?"#fff":"#000"}},onChange:e=>{P("userName",e)},disabled:x,defaultValue:s.userInfo.wallet_addr,inputRef:r,className:T.labelItem}),Object(I.jsx)(d.a,{onClick:async()=>{if(x)p(!1),setTimeout((()=>{r.current.focus()}),30);else{try{const e=await Object(V.d)({address:s.userInfo.wallet_addr,opt:2}),a=await Object(F.e)(s.userInfo.wallet_addr,`STCSCAN_UPDATE_ADDR_CODE:${e.data}`,1);"200"===(await Object(V.k)({new:y.current,old:s.userInfo.wallet_addr,sign:a})).status?(w({...v,open:!0,severity:"success",message:h("common.success")}),setTimeout((()=>{window.location.reload()}),3e3)):w({...v,open:!0,severity:"error",message:h("common.fail")})}catch(e){console.error(e)}p(!0)}},children:h(x?"user.Edit":"user.Confirm")})]})]}),Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.Email address"),"\uff1a"]}),Object(I.jsx)("div",{className:T.labelItem,children:Object(I.jsx)(i.a,{defaultValue:s.userInfo.e_mail,onChange:e=>{P("email",e)},placeholder:h("user.Email address placeholder"),className:T.labelItem})})]}),Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.Public Profile Picture"),"\uff1a"]}),Object(I.jsx)("div",{className:T.labelItem,children:Object(I.jsx)(i.a,{defaultValue:s.userInfo.avatar,onChange:e=>{P("avatar",e)},placeholder:h("user.Picture placeholder"),className:T.labelItem})})]}),Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.twitter name"),"\uff1a"]}),Object(I.jsx)("div",{className:T.labelItem,children:Object(I.jsx)(i.a,{defaultValue:s.userInfo.twitter_name,onChange:e=>{P("twitter",e)},placeholder:h("user.twitter placeholder"),className:T.labelItem})})]}),Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.discord name"),"\uff1a"]}),Object(I.jsx)("div",{className:T.labelItem,children:Object(I.jsx)(i.a,{defaultValue:s.userInfo.discord_name,onChange:e=>{P("discord",e)},placeholder:h("user.discord placeholder"),className:T.labelItem})})]}),Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.telegram name"),"\uff1a"]}),Object(I.jsx)("div",{className:T.labelItem,children:Object(I.jsx)(i.a,{defaultValue:s.userInfo.telegram_name,onChange:e=>{P("telegram",e)},placeholder:h("user.telegram placeholder"),className:T.labelItem})})]}),Object(I.jsxs)(n.a,{className:T.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:T.labelName,children:[h("user.Profile"),"\uff1a"]}),Object(I.jsx)("div",{className:T.labelItem,children:Object(I.jsx)(b.a,{"aria-label":"minimum height",minRows:3,defaultValue:s.userInfo.profile,onChange:e=>{P("profile",e)},className:T.labelItem})})]}),Object(I.jsxs)("div",{className:T.footer,children:[Object(I.jsx)(d.a,{onClick:()=>{f({type:U.UPDATE_USERINFO,payload:C.current,callback:e=>{"200"===e.status?w({...v,open:!0,severity:"success",message:h("common.success")}):w({...v,open:!0,severity:"error",message:h("common.fail")}),O(!0)}})},variant:"contained",className:T.okBtn,disabled:c,children:h("user.save change")}),Object(I.jsx)(d.a,{onClick:()=>{N(!0)},variant:"contained",color:"error",children:h("user.Delete User")})]}),Object(I.jsxs)(j.a,{sx:{"& .MuiDialog-paper":{backgroundColor:a.palette.background.default,color:a.palette.getContrastText(a.palette.background.paper)}},open:g,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(m.a,{id:"alert-dialog-title",children:h("user.warning")}),Object(I.jsx)(u.a,{children:Object(I.jsx)(k,{style:{color:"#fff"},children:h("user.warning tip")})}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)(d.a,{onClick:M,children:"Disagree"}),Object(I.jsx)(d.a,{onClick:()=>{f({type:U.DELETE_USERINFO,callback:e=>{"200"===e.status?w({...v,open:!0,severity:"success",message:h("common.success")}):w({...v,open:!0,severity:"error",message:h("common.fail")}),N(!1)}})},autoFocus:!0,children:"Agree"})]})]})]}):Object(I.jsx)(L.a,{}),Object(I.jsx)(D.a,{open:v.open,autoHideDuration:6e3,onClose:()=>{w({...v,open:!1})},children:Object(I.jsx)(E.a,{variant:"filled",severity:v.severity,sx:{width:"100%"},children:v.message})})]})}))}}]);
//# sourceMappingURL=39.539474c9.chunk.js.map