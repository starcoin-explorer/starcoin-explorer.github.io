(this["webpackJsonpstarcoin-explorer"]=this["webpackJsonpstarcoin-explorer"]||[]).push([[39],{750:function(e,a,t){"use strict";var s=t(22),r=t(0);a.a=()=>{const e=Object(s.h)(),a=Object(s.g)(),[t,l]=Object(r.useState)(!1);Object(r.useEffect)((()=>{localStorage.getItem("wallet_status")||-1===a.pathname.indexOf("/user")||e("/error")}),[])}},882:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t(610),l=t(352),c=t(617),o=t(742),n=t(698),i=t(349),d=t(699),b=t(682),j=t(897),m=t(863),u=t(898),O=t(5),f=t(2),h=t(677),x=t(8),p=t(16),g=t(701),N=t(351),v=t(612);function w(e){return Object(N.a)("MuiDialogContentText",e)}Object(v.a)("MuiDialogContentText",["root"]);var I=t(1);const C=["children"],y=Object(x.a)(g.a,{shouldForwardProp:e=>Object(x.b)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({});var k=s.forwardRef((function(e,a){const t=Object(p.a)({props:e,name:"MuiDialogContentText"}),s=Object(O.a)(t,C),r=(e=>{const{classes:a}=e,t=Object(h.a)({root:["root"]},w,a);return Object(f.a)({},a,t)})(s);return Object(I.jsx)(y,Object(f.a)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:s},t,{classes:r}))})),_=t(899),D=t(877),E=t(873),R=t(620),S=t(224),T=t(66),L=t(82),P=t(90),A=t(750),V=t(77),F=t(78);const{selector:M,types:U}=P.a,B=Object(S.a)(M,(e=>({...e})));a.default=Object(c.a)((e=>Object(r.a)({from:{width:"800px",margin:"100px auto",padding:"50px",background:"dark"===e.palette.mode?"#424242":"rgb(237, 238, 242)"},labelName:{width:"33%",textAlign:"right"},formLabel:{margin:"20px",width:"100%",display:"flex"},labelItem:{width:"66%"},uploadBtn:{width:"100px",height:"100px",border:"1px solid #fff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},okBtn:{color:"#fff!important",marginRight:"20px"},footer:{textAlign:"center"}})))((function(e){const a=Object(l.a)(),t=Object(T.e)(B),r=Object(s.useRef)(),[c,O]=Object(s.useState)(!0),f=Object(T.d)(),{t:h}=Object(R.a)(),[x,p]=Object(s.useState)(!0),[g,N]=Object(s.useState)(!1),[v,w]=Object(s.useState)({open:!1,severity:"success",message:""}),C=Object(s.useRef)({}),y=Object(s.useRef)(""),{classes:S}=e;Object(A.a)();const P=(e,a)=>{if("userName"===e)return void(y.current=a.target.value);O(!1);const t={};t[e]=a.target.value,C.current={...C.current,...t}},M=()=>{N(!1)};return Object(I.jsxs)(I.Fragment,{children:[t.userInfo.wallet_addr?Object(I.jsxs)(o.a,{className:S.from,children:[Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.Username"),"\uff1a"]}),Object(I.jsxs)("div",{className:S.labelItem,children:[Object(I.jsx)(i.a,{sx:{".Mui-disabled":{textFillColor:"dark"===a.palette.mode?"#fff":"#000"}},onChange:e=>{P("userName",e)},disabled:x,defaultValue:t.userInfo.wallet_addr,inputRef:r,className:S.labelItem}),Object(I.jsx)(d.a,{onClick:async()=>{if(x)p(!1),setTimeout((()=>{r.current.focus()}),30);else{try{const e=await Object(V.d)({address:t.userInfo.wallet_addr,opt:2}),a=await Object(F.e)(t.userInfo.wallet_addr,`STCSCAN_UPDATE_ADDR_CODE:${e.data}`,1);"200"===(await Object(V.k)({new:y.current,old:t.userInfo.wallet_addr,sign:a})).status?(w({...v,open:!0,severity:"success",message:h("common.success")}),setTimeout((()=>{window.location.reload()}),3e3)):w({...v,open:!0,severity:"error",message:h("common.fail")})}catch(e){console.error(e)}p(!0)}},children:h(x?"user.Edit":"user.Confirm")})]})]}),Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.Email address"),"\uff1a"]}),Object(I.jsx)("div",{className:S.labelItem,children:Object(I.jsx)(i.a,{defaultValue:t.userInfo.e_mail,onChange:e=>{P("email",e)},placeholder:h("user.Email address placeholder"),className:S.labelItem})})]}),Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.Public Profile Picture"),"\uff1a"]}),Object(I.jsx)("div",{className:S.labelItem,children:Object(I.jsx)(i.a,{defaultValue:t.userInfo.avatar,onChange:e=>{P("avatar",e)},placeholder:h("user.Picture placeholder"),className:S.labelItem})})]}),Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.twitter name"),"\uff1a"]}),Object(I.jsx)("div",{className:S.labelItem,children:Object(I.jsx)(i.a,{defaultValue:t.userInfo.twitter_name,onChange:e=>{P("twitter",e)},placeholder:h("user.twitter placeholder"),className:S.labelItem})})]}),Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.discord name"),"\uff1a"]}),Object(I.jsx)("div",{className:S.labelItem,children:Object(I.jsx)(i.a,{defaultValue:t.userInfo.discord_name,onChange:e=>{P("discord",e)},placeholder:h("user.discord placeholder"),className:S.labelItem})})]}),Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.telegram name"),"\uff1a"]}),Object(I.jsx)("div",{className:S.labelItem,children:Object(I.jsx)(i.a,{defaultValue:t.userInfo.telegram_name,onChange:e=>{P("telegram",e)},placeholder:h("user.telegram placeholder"),className:S.labelItem})})]}),Object(I.jsxs)(n.a,{className:S.formLabel,error:!1,children:[Object(I.jsxs)("div",{className:S.labelName,children:[h("user.Profile"),"\uff1a"]}),Object(I.jsx)("div",{className:S.labelItem,children:Object(I.jsx)(b.a,{"aria-label":"minimum height",minRows:3,defaultValue:t.userInfo.profile,onChange:e=>{P("profile",e)},className:S.labelItem})})]}),Object(I.jsxs)("div",{className:S.footer,children:[Object(I.jsx)(d.a,{onClick:()=>{f({type:U.UPDATE_USERINFO,payload:C.current,callback:e=>{"200"===e.status?w({...v,open:!0,severity:"success",message:h("common.success")}):w({...v,open:!0,severity:"error",message:h("common.fail")}),O(!0)}})},variant:"contained",className:S.okBtn,disabled:c,children:h("user.save change")}),Object(I.jsx)(d.a,{onClick:()=>{N(!0)},variant:"contained",color:"error",children:h("user.Delete User")})]}),Object(I.jsxs)(j.a,{sx:{"& .MuiDialog-paper":{backgroundColor:a.palette.background.default,color:a.palette.getContrastText(a.palette.background.paper)}},open:g,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(m.a,{id:"alert-dialog-title",children:h("user.warning")}),Object(I.jsx)(u.a,{children:Object(I.jsx)(k,{style:{color:"#fff"},children:h("user.warning tip")})}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)(d.a,{onClick:M,children:"Disagree"}),Object(I.jsx)(d.a,{onClick:()=>{f({type:U.DELETE_USERINFO,callback:e=>{"200"===e.status?w({...v,open:!0,severity:"success",message:h("common.success")}):w({...v,open:!0,severity:"error",message:h("common.fail")}),N(!1)}})},autoFocus:!0,children:"Agree"})]})]})]}):Object(I.jsx)(L.a,{}),Object(I.jsx)(D.a,{open:v.open,autoHideDuration:6e3,onClose:()=>{w({...v,open:!1})},children:Object(I.jsx)(E.a,{variant:"filled",severity:v.severity,sx:{width:"100%"},children:v.message})})]})}))}}]);
//# sourceMappingURL=39.eba3f39d.chunk.js.map