(this["webpackJsonpstarcoin-explorer"]=this["webpackJsonpstarcoin-explorer"]||[]).push([[22],{668:function(t,a,e){"use strict";var n=e(2),c=e(36),r=e(40),s=e(85),i=e(84),o=e(0),l=e(658),u=e(125),j=e(13),d=e(578),h=e(19),b=e(656),p=e(657),O=e(574),g=function(t){Object(s.a)(e,t);var a=Object(i.a)(e);function e(){return Object(c.a)(this,e),a.apply(this,arguments)}return Object(r.a)(e,[{key:"render",value:function(){var t=this.props,a=t.classes,e=t.t,c=t.address,r=Object(j.c)()||"main",s=r.charAt(0).toUpperCase()+r.slice(1);return Object(n.jsxs)("div",{children:[Object(n.jsx)(u.b,{children:Object(n.jsx)("title",{children:"Not Onchain"})}),Object(n.jsx)(b.a,{className:a.root,container:!0,justify:"center",children:Object(n.jsx)(b.a,{item:!0,xs:12,md:8,lg:4,children:Object(n.jsx)(p.a,{className:a.card,children:Object(n.jsxs)(O.a,{variant:"h6",className:a.headline,children:[e("common.Hash")," ",Object(n.jsx)("strong",{className:a.strong,children:c})," ",e("account.notOnchain")," ",s," ",e("account.network")]})})})})]})}}]),e}(o.PureComponent);a.a=Object(h.a)((function(){return Object(d.a)({root:{padding:16},card:{alignItems:"center",flexDirection:"column",justifyContent:"center",padding:24},headline:{paddingBottom:8},strong:{overflowWrap:"break-word"}})}))(Object(l.a)()(g))},767:function(t,a,e){"use strict";e.r(a);var n=e(2),c=e(7),r=e(36),s=e(40),i=e(85),o=e(84),l=e(0),u=e(27),j=e(101),d=e(638),h=e(635),b=e(105),p=e(18),O=e(658),g=e(125),v=e(578),x=e(19),f=e(74),m=e(644),y=e(645),k=e(574),_=e(632),P=e(655),N=function(t){Object(i.a)(e,t);var a=Object(o.a)(e);function e(t){var n;return Object(r.a)(this,e),(n=a.call(this,t)).fetchListPage=function(t){n.props.getTransactionList({page:t})},n.pagination=function(t){var a=n.props.transactionList?n.props.transactionList.contents:[],e=a[a.length-1],c=e&&e.sort||0;if("prev"===t&&n.state.currentPage>1){var r=n.state.currentPage-1;n.props.getTransactionList({page:r,after:c},(function(){n.pagenationCallback(r)}))}else if("next"===t){var s=n.state.currentPage+1;n.props.getTransactionList({page:s,after:c},(function(){n.pagenationCallback(s)}))}},n.pagenationCallback=function(t){n.setState({currentPage:t})},n.state={currentPage:1},n}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.fetchListPage(this.state.currentPage)}},{key:"render",value:function(){var t=this,a=this.props,e=a.transactionList,c=a.isLoadingMore,r=a.className,s=a.classes,i=a.t,o=!e,l=e&&e.contents||[],u=l.length?Object(n.jsx)(P.a,{transactions:l}):Object(n.jsx)(_.a,{children:Object(n.jsx)("div",{className:s.header,children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,className:s.title,children:i("transaction.NoTransactionData")})})});return Object(n.jsxs)("div",{children:[Object(n.jsx)(g.b,{children:Object(n.jsx)("title",{children:i("header.transactions")})}),Object(n.jsx)(m.a,{className:r,title:i("header.transactions"),name:i("header.transactions"),pluralName:i("header.transactions"),content:Object(n.jsxs)("div",{children:[o?Object(n.jsx)(f.a,{}):u,Object(n.jsx)("div",{className:s.pagerArea,children:Object(n.jsx)(y.a,{page:this.state.currentPage,pageSize:20,currentPageSize:null==l?null:l.length,hasPreviousPage:this.state.currentPage>1,hasNextPage:!0,onPrevPage:function(){return t.pagination("prev")},onNextPage:function(){return t.pagination("next")},isLoading:c})})]})})]})}}]),e}(l.PureComponent);N.defaultProps={transactionList:null,isLoadingMore:void 0,getTransactionList:function(){}};var S=Object(x.a)((function(){return Object(v.a)({pagerArea:{alignItems:"center",display:"flex",justifyContent:"flex-end"}})}))(Object(O.a)()(N)),w=b.a.selector,L=b.a.actions,T=Object(h.a)([p.k]),D=Object(d.a)(w,T,(function(t,a){return{transactionList:t.transactionList,isLoadingMore:t.isLoadingMore,loading:a}})),C=Object(j.c)(D,{getTransactionList:L.getTransactionList})(S),B=e(629),z=e(626),F=e(627),M=e(68),U=e.n(M),I=e(636),J=e(634),A=e(647),E=e(679),H=e(668),R=e(208),q=e(11),K=e(129),V=e.n(K),W=e(13),G=e(104),Q=e(748);function X(t,a){try{if("string"===typeof a)switch(a){case"Signer":case"Address":return Object(q.d)(t.deserializeBytes());case"Bool":return t.deserializeBool()?"true":"false";case"U128":return Object(I.a)(t.deserializeU128());case"U64":return Object(I.a)(t.deserializeU64());case"U8":return Object(I.a)(t.deserializeU8());default:return}if("Vector"in a){var e=t.deserializeLen();return"[".concat(Array.from({length:e}).map((function(){return X(t,a.Vector)})).join(", "),"]")}return"Struct"in a?"".concat(a.Struct.address,"::").concat(a.Struct.module,"::").concat(a.Struct.name).concat(a.Struct.type_params?"<".concat(a.Struct.type_params.map((function(a){return X(t,a)})).join(", "),">"):""):void 0}catch(n){return}}var Y=function(t){var a,e,c=t.network,r=t.txnPayload,s=t.alt;if("ScriptFunction"in r){var i=r.ScriptFunction.func;e=r.ScriptFunction.args;var o=i.address,l=i.module,u=i.functionName;a="".concat(o,"::").concat(l,"::").concat(u)}if("Package"in r&&r.Package.init_script){var j=r.Package.init_script.func;e=r.Package.init_script.args;var d=j.address,h=j.module,b=j.functionName;a="".concat(d,"::").concat(h,"::").concat(b)}var p=function(t,a){var e=new R.d.JsonRpcProvider("https://".concat(a,"-seed.starcoin.org"));return Object(Q.a)(t?[e.connection.url,"resolve_function",t]:null,(function(){return e.send("contract.resolve_function",[t])}))}(a,c).data,O=e?e.map((function(t,a){return(null===p||void 0===p?void 0:p.args[a+1])?"".concat(R.e.formatTypeTag(p.args[a+1].type_tag),": ").concat(X(new R.a.BcsDeserializer(Object(q.a)(t)),p.args[a+1].type_tag)||t):t})):{};return"ScriptFunction"in r&&(r.ScriptFunction.args=O),"Package"in r&&r.Package.init_script&&(r.Package.init_script.args=O),Object(n.jsx)("pre",{children:JSON.stringify(r,null,2)})||Object(n.jsx)(k.a,{variant:"body1",children:s})},Z=function(t){Object(i.a)(e,t);var a=Object(o.a)(e);function e(){return Object(r.a)(this,e),a.apply(this,arguments)}return Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.hash;this.props.getTransaction({hash:t})}},{key:"generateExtra",value:function(){for(var t=this.props,a=t.transaction,e=t.classes,c=t.t,r=t.match.params.network,s=!a,i=V()(a,"events",[]),o=[],l=0;l<i.length;l++){var u=[],j=i[l],d=j.type_tag.split("::"),h=d[1],b=d[2],p=void 0,O=void 0;try{var g=R.c.decodeEventData(b,j.data);p=Object(W.e)(g.toJS())}catch(S){console.log(S),p=j.data}try{var v=j.event_key,x=R.c.decodeEventKey(v);O=Object(W.e)(x)}catch(S){console.log(S),O=j.event_key}u.push([c("event.Data"),p]),u.push([c("event.Module"),h]),u.push([c("event.Name"),b]),u.push([c("event.Key"),O]),u.push([c("event.Seq"),Object(I.a)(j.event_seq_number)]),o.push(Object(n.jsx)(E.a,{columns:u},j.event_key))}var m=a,y="";m.user_transaction&&m.user_transaction.raw_txn&&(y=m.user_transaction.raw_txn.payload);var _=y?R.b.decodeTransactionPayload(y):[],P=i.length?o:Object(n.jsx)(k.a,{variant:"body1",children:c("event.NoEventData")}),N=Object(n.jsx)("pre",{children:JSON.stringify(a,null,2)})||Object(n.jsx)(k.a,{variant:"body1",children:c("transaction.NoRawData")});return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(z.a,{expandIcon:Object(n.jsx)(U.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,children:c("header.events")})}),Object(n.jsx)(F.a,{children:Object(n.jsx)("div",{className:e.table,children:Object(n.jsx)("div",{className:e.table,children:s?Object(n.jsx)(f.a,{}):P})})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(z.a,{expandIcon:Object(n.jsx)(U.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,children:c("transaction.RawData")})}),Object(n.jsx)(F.a,{children:Object(n.jsx)("div",{className:e.rawData,children:s?Object(n.jsx)(f.a,{}):N})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(z.a,{expandIcon:Object(n.jsx)(U.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,children:c("transaction.decodedPayload")})}),Object(n.jsx)(F.a,{children:Object(n.jsx)("div",{className:e.rawData,children:s?Object(n.jsx)(f.a,{}):Object(n.jsx)(Y,{network:r,alt:c("transaction.NoDecodedPayload"),txnPayload:_})})})]})]})}},{key:"render",value:function(){var t=this.props,a=t.transaction,e=t.match,c=t.t;if(null===a)return Object(n.jsx)(f.a,{});if(""===a)return Object(n.jsx)(H.a,{address:e.params.hash});var r=e.params.network,s=a,i="",o="";s.user_transaction&&s.user_transaction.raw_txn&&(i=s.user_transaction.raw_txn.payload,o=s.user_transaction.raw_txn.sender);var l,u,j,d,h,b=i?R.b.decodeTransactionPayload(i):[],p=Object.keys(b)[0];if("ScriptFunction"in b){var O=b.ScriptFunction.func;l=O.functionName,u=O.module;var g=b.ScriptFunction.args;try{j=g[0],d=g[1],h=new R.a.BcsDeserializer(Object(q.a)(g[2])).deserializeU128().toString()}catch(x){console.log(x)}}var v=[[c("common.Hash"),s.transaction_hash],[c("transaction.Type"),p],[c("common.Time"),new Date(parseInt(s.timestamp,10)).toLocaleString()],[c("transaction.BlockHash"),Object(n.jsx)(J.a,{path:"/".concat(r,"/blocks/detail/").concat(s.block_hash),title:s.block_hash})],[c("transaction.BlockHeight"),Object(n.jsx)(G.a,{to:"/".concat(r,"/blocks/height/").concat(s.block_number),children:Object(I.a)(s.block_number)})],[c("transaction.StateRootHash"),s.state_root_hash],[c("transaction.Status"),s.status],[c("common.GasUsed"),s.gas_used],[c("transaction.Sender"),Object(n.jsx)(J.a,{path:"/".concat(r,"/address/").concat(o),title:o})]];return u&&v.push([c("transaction.FunctionModuleName"),u]),l&&v.push([c("transaction.FunctionName"),l]),j&&v.push([c("transaction.arg0"),Object(n.jsx)(J.a,{path:"/".concat(r,"/address/").concat(j),title:j})]),d&&v.push([c("transaction.arg1"),d]),h&&v.push([c("transaction.arg2"),"".concat(Object(W.a)(h)," STC")]),Object(n.jsx)(A.a,{id:s.transaction_hash,title:c("transaction.title"),name:c("transaction.title"),pluralName:c("transaction.title"),searchRoute:"/".concat(r,"/transactions"),bodyColumns:v,extra:this.generateExtra()})}}]),e}(l.PureComponent);Z.defaultProps={match:{},transaction:null,getTransaction:function(){}};var $=Object(x.a)((function(){return Object(v.a)({table:{width:"100%",display:"block"},shrinkMaxCol:{flex:"1 100 auto",minWidth:60},shrinkCol:{flex:"1 10 auto"},rawData:{wordBreak:"break-all",overflow:"auto"}})}))(Object(O.a)()(Z)),tt=b.a.selector,at=b.a.actions,et=Object(h.a)([p.j]),nt=Object(d.a)(tt,et,(function(t,a){return{transaction:t.transaction,loading:a}})),ct=Object(j.c)(nt,{getTransaction:at.getTransaction})($),rt=function(t){Object(i.a)(e,t);var a=Object(o.a)(e);function e(){return Object(r.a)(this,e),a.apply(this,arguments)}return Object(s.a)(e,[{key:"render",value:function(){var t=this.props.computedMatch;return Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:"".concat(t.path,"/detail/:hash"),render:function(t){return Object(n.jsx)(ct,Object(c.a)({},t))}}),Object(n.jsx)(u.b,{exac:!0,path:"".concat(t.path),render:function(t){return Object(n.jsx)(C,Object(c.a)({},t))}})]})}}]),e}(l.PureComponent);a.default=rt}}]);
//# sourceMappingURL=22.53f22789.chunk.js.map